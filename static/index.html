<!DOCTYPE html>
<html>

<head>
  <title>Der Die Was?</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="htmx.min.js"></script>
  <script src="json-enc.js"></script>
  <script>
    // Required to swap out table rows, see also:
    // https://htmx.org/examples/update-other-content/#oob
    htmx.config.useTemplateFragments = true;
  </script>
  <link rel="stylesheet" href="site.css" />
</head>

<body>
  <h2>Guess the correct <em>singular</em> article!</h2>

  <div class="center core-container">
    <h1 class="center word">
      <div id="word" class="center checking-choice" hx-get="/word" hx-trigger="load"></div>
      <img src="spinner.svg" class="center checking-choice" />
    </h1>

    <form class="buttons" id="choice" hx-patch="/choice" hx-ext="json-enc"
      hx-vals="js:{word: document.getElementById('word').textContent}" hx-target="#choices-table" hx-swap="afterbegin"
      hx-indicator=".checking-choice">
      <input type="submit" hx-trigger="click" value="Der" name="article" />
      <input type="submit" hx-trigger="click" value="Die" name="article" />
      <input type="submit" hx-trigger="click" value="Das" name="article" />
    </form>
  </div>

  <table class="center">
    <caption>Picks</caption>
    <colgroup>
      <col/>
      <col/>
      <col style="min-width: 8em;" />
    </colgroup>
    <thead>
      <tr class="checking-choice">
        <th colspan="3">Checking...</th>
      </tr>
    </thead>
    <tbody id="choices-table"></tbody>
  </table>
</body>

</html>
